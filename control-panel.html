<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Control Panel</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <h2>ðŸŽ› Control Panel</h2>

    <div>
        <label for="output-mode">Projector Display:</label>
        <select id="output-mode">
            <option value="visualizer">ðŸŽ¨ Generated Visualizer</option>
            <option value="video">ðŸŽ¥ Camera / Video Feed</option>
        </select>
    </div>

    <script>
        let visualizerWindow = null;

        window.addEventListener('load', () => {
            visualizerWindow = window.open('', 'Visualizer');
        });

        document.getElementById('output-mode').addEventListener('change', (e) => {
            const mode = e.target.value;
            if (visualizerWindow && !visualizerWindow.closed) {
                visualizerWindow.postMessage({
                    type: 'switch-mode',
                    data: mode
                }, '*');
            }
        });
    </script>
</body>
</html>
